<!DOCTYPE html>
<html>

<head>
	<title>Login</title>
	<link rel="stylesheet" href="styles.css" />
</head>

<body>
	<div class="container">
		<h1>Login</h1>
		<form id="loginForm">
			<input type="text" name="username" placeholder="Username" required />
			<input type="password" name="password" placeholder="Password" required />
			<button type="submit">Login</button>
		</form>
	</div>
	<script>
		document
			.getElementById("loginForm")
			.addEventListener("submit", async (e) => {
				e.preventDefault();
				const formData = new FormData(e.target);
				const response = await fetch("/api/login", {
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify({
						username: formData.get("username"),
						password: formData.get("password"),
					}),
				});
				if (response.ok) {
					window.location.href = "/";
				} else {
					alert("Login failed");
				}
			});
	</script>
</body>

</html>